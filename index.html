<body>

<!-- BACKGROUND MUSIC -->
<audio id="bgMusic" autoplay loop>
    <source src="https://soundcloud.com/penguinpiano/love-wave-to-earth-piano" type="audio/mpeg">
</audio>

<div class="card-wrapper">
    <div class="card" id="card">

        <!-- FRONT -->
        <div class="card-front">
            <h2>ðŸ’Œ To MY Favorite Person</h2>
            <button onclick="openCard()">Open Card</button>
        </div>

        <!-- BACK -->
        <div class="card-back">

            <!-- MESSAGE PART -->
            <div id="messagePart">
                <p id="valentineMessage">
Happy Valentineâ€™s Day! I hope you have a really good day today, filled with smiles, laughter, and all the little things that make you happy. I just want you to know that you mean a lot to me, and Iâ€™m really glad to have you in my life. You make everything brighter, and I always look forward to the moments we share together. I hope today reminds you how special you are, not just to me, but to everyone whoâ€™s lucky enough to know you.

Have an amazing Valentineâ€™s Day, and never forget that youâ€™re appreciated, loved, and thought of every single day. I'm sorry if I can't take you to a date today, cause I know that you are busy as well, and I don't have money to take you somewhere. This is all that I can afford right now, and don't worry babawi ako next week HAAHHAAH, and I'm sorry if I can't still talk to you like the way I talk to others, it's just my mind doesn't know how to act when I'm around you. But still I'm trying my best to make interactions with you. Because I want to know more about you and have a good relationship with you, anyways that's all. HAPPY VALENTINES DAY MJ! LOVEYOUUPOOO ðŸ’•
                </p>
                <button id="nextBtn" onclick="showQuestion()">Next</button>
            </div>

            <!-- QUESTION PART (hidden at first) -->
            <div id="questionPart" style="display:none;">
                <h2>Can I be your Valentine? ðŸ’–</h2>
                <button id="yesBtn">YES ðŸ’˜</button>
                <button id="noBtn">NO ðŸ˜¢</button>
                <div id="sideMessage"></div>
                <div id="finalMessage"></div>
                <img id="loveImage" src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif">
                <img id="sadGif" src="https://media.giphy.com/media/9Y5BbDSkSTiY8/giphy.gif">
            </div>

        </div>
    </div>
</div>

<script>
// set volume
const music = document.getElementById("bgMusic");
music.volume = 0.2; // adjust between 0 and 1

let noSize = 18;
let noClickCount = 0;
const noMessages = ["WHY SAY NO?", "PLEASE", "PRETTY PLEASE"];

// Open card
function openCard() {
    document.getElementById("card").classList.add("open");
    music.play(); // play music when card opens
}

// Show question after message
function showQuestion() {
    document.getElementById("messagePart").style.display = "none";
    document.getElementById("questionPart").style.display = "block";
}

const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const finalMessage = document.getElementById("finalMessage");
const sideMessage = document.getElementById("sideMessage");
const loveImage = document.getElementById("loveImage");
const sadGif = document.getElementById("sadGif");

// YES button
yesBtn.addEventListener("click", function() {
    finalMessage.innerHTML = "YAAYYY!! ðŸ’–ðŸ¥°";
    loveImage.style.display = "block";
    yesBtn.style.display = "none";
    noBtn.style.display = "none";
    sideMessage.innerHTML = "";
    sadGif.style.display = "none";
    startConfetti();
});

// NO button
noBtn.addEventListener("click", function() {
    // Shrink button
    noSize -= 3;
    noBtn.style.fontSize = noSize + "px";
    noBtn.style.padding = (noSize/2) + "px";

    // Show sad GIF and side message
    sadGif.style.display = "block";
    sideMessage.innerHTML = noMessages[noClickCount] || "";
    noClickCount++;

    // If button disappears
    if (noSize <= 5) {
        noBtn.style.display = "none";
        sideMessage.innerHTML = "FINE, YOU CAN'T SAY NO ðŸ˜¢";
        sadGif.style.display = "block";
    }
});

// CONFETTI HEARTS
function startConfetti() {
    for (let i=0; i<50; i++) {
        let heart = document.createElement("div");
        heart.className = "heartConfetti";
        heart.innerHTML = "â¤ï¸";
        heart.style.left = Math.random() * window.innerWidth + "px";
        heart.style.fontSize = (10 + Math.random() * 30) + "px";
        heart.style.animationDuration = (2 + Math.random() * 3) + "s";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 5000);
    }
}
</script>

</body>
